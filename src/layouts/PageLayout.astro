---
import GlassTriBg from '~/components/visuals/GlassTriBg.astro';
import Layout from '~/layouts/Layout.astro';
import Header from '~/components/widgets/Header.astro';
import Footer from '~/components/widgets/Footer.astro';
import Announcement from '~/components/widgets/Announcement.astro';
import { headerData, footerData } from '~/navigation';
import type { MetaData } from '~/types';
export interface Props { metadata?: MetaData }
const { metadata } = Astro.props;
---

<Layout metadata={metadata}>
  <!-- Force light mode on every page render, including client-side transitions -->
  <script>
    (() => {
      try {
        const html = document.documentElement;
        html.classList.remove('dark');
        html.classList.add('light');                      // Tailwind defaults will use light
        html.setAttribute('data-aw-theme', 'light');
        localStorage.setItem('aw-theme', 'light');        // Astrowind
        localStorage.setItem('theme', 'light');           // any other theme key
      } catch {}
    })();
  </script>

  <!-- Dynamic background -->
  <GlassTriBg primary="#0B4A8F" secondary="#6AB3EA" density={1.4} />

  <slot name="announcement"><Announcement /></slot>
  <slot name="header">
    <!-- keep the toggle hidden -->
    <Header {...headerData} showRssFeed={false} showToggleTheme={false} />
  </slot>

  <main><slot /></main>

  <slot name="footer"><Footer {...footerData} theme="light" /></slot>
</Layout>




